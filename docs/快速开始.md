# 快速开始指南

> **5 分钟，让你的 AI 拥有真正的记忆。**
>
> 再也不用重复告诉 AI 同样的事情了。

---

## 目标

完成本指南后，你将：
- ✅ 安装并配置记忆系统
- ✅ 在 VS Code、Claude Code 等任意支持 MCP 的应用中使用
- ✅ 实现跨平台的 AI 记忆共享

---

## 📦 步骤 1: 安装

### 方式 A: 使用 uvx (推荐，无需安装)

```bash
# uvx 会自动下载和运行，无需手动安装
# 验证是否可用
uvx adaptive-agent-mcp --help
```

### 方式 B: 使用 pip 安装

```bash
# 安装
pip install adaptive-agent-mcp

# 验证
adaptive-agent-mcp --help
```

### 方式 C: 从源码安装 (开发者)

```bash
# 克隆仓库
git clone <your-repo-url>
cd adaptive_agent_mcp

# 安装
pip install -e .

# 验证
python server.py --help
```

---

## ⚙️ 步骤 2: 配置

### 💡 推荐配置: 全局记忆互通

**默认推荐**: 不指定 `--storage-path`，让所有 AI 应用共享记忆！

**为什么推荐全局共享？**
- ✨ **跨应用记忆互通**: 在 VS Code 中学到的知识，在 Claude Code 中也能用
- 🧠 **知识积累**: 所有对话的知识都汇聚到一个"大脑"
- 🚀 **零配置**: 不需要指定路径，开箱即用
- 📚 **统一知识库**: 个人学习、工作经验都在一个地方

**记忆位置**: `~/.adaptive-agent/memory` (自动创建)

---

### 🔧 高级选项: 项目隔离记忆

如果你有以下需求，可以考虑项目隔离：
- 多客户项目，需要隐私保护
- 团队协作，记忆需要加入 Git
- 工作/个人严格分离

**配置方式**: 指定 `--storage-path` 为项目内路径

**详细说明**: 查看 [配置决策指南](./配置决策指南.md)

---

### 选择你的 IDE

<details>
<summary><b>选项 A: VS Code / Cline / Roo Code</b> (点击展开)</summary>

#### 1. 创建配置文件

在项目根目录创建 `.kiro/settings/mcp.json`:

```bash
mkdir -p .kiro/settings
```

#### 2. 添加配置

**推荐配置: 全局记忆互通** ⭐

```json
{
  "mcpServers": {
    "adaptive-agent-mcp": {
      "command": "uvx",
      "args": ["adaptive-agent-mcp"],
      "disabled": false
    }
  }
}
```

> 🎉 **就这么简单！** 不指定路径，自动使用 `~/.adaptive-agent/memory`
> 
> **效果**: 所有 AI 应用 (VS Code, Claude Code, Cline 等) 共享同一个记忆库！

**示例**:
```
在 VS Code 中: "记住，我喜欢使用 TypeScript"
在 Claude Code 中: "我的编程偏好是什么？"
AI: "你喜欢使用 TypeScript" ✅ 记忆互通！
```

---

**高级选项: 项目隔离记忆** (可选)

如果需要项目隔离，可以指定项目内路径：

```json
{
  "mcpServers": {
    "adaptive-agent-mcp": {
      "command": "uvx",
      "args": [
        "adaptive-agent-mcp",
        "--storage-path",
        "${workspaceFolder}/agent_memory"
      ],
      "disabled": false
    }
  }
}
```

---

**开发模式** (从源码运行):

```json
{
  "mcpServers": {
    "adaptive-agent-mcp": {
      "command": "python",
      "args": [
        "${workspaceFolder}/adaptive_agent_mcp/server.py"
      ],
      "disabled": false
    }
  }
}
```

#### 3. 重启 VS Code

按 `Ctrl+Shift+P` (Windows/Linux) 或 `Cmd+Shift+P` (macOS)，输入 "Reload Window"

</details>

<details>
<summary><b>选项 B: Claude Code</b> (点击展开)</summary>

#### 1. 配置方式

**推荐配置: 全局记忆互通** ⭐

```bash
# 使用命令行添加 (最简单)
claude mcp add adaptive-memory \
  --type stdio \
  --command uvx \
  --args "adaptive-agent-mcp"

# 验证配置
claude mcp list
```

或手动编辑 `~/.claude.json`:
```json
{
  "mcpServers": {
    "adaptive-memory": {
      "type": "stdio",
      "command": "uvx",
      "args": ["adaptive-agent-mcp"]
    }
  }
}
```

> 🎉 **就这么简单！** 自动使用 `~/.adaptive-agent/memory`
> 
> **效果**: 与 VS Code、Cline 等所有 AI 应用共享记忆！

**示例**:
```
在 VS Code 中: "记住，我的 API 密钥存储在环境变量中"
在 Claude Code 中: "API 密钥在哪里？"
AI: "在环境变量中" ✅ 记忆互通！
```

---

**高级选项: 项目隔离记忆** (可选)

如果需要项目隔离，可以指定项目路径：

```bash
claude mcp add adaptive-memory \
  --type stdio \
  --command uvx \
  --args "adaptive-agent-mcp" \
  --args "--storage-path" \
  --args "~/Projects/my-project/agent_memory"
```

---

**开发模式** (从源码运行):

```bash
claude mcp add adaptive-memory \
  --type stdio \
  --command python \
  --args "C:/path/to/adaptive_agent_mcp/server.py"
```

#### 2. 重启 Claude Code

```bash
# 重启 Claude Code
claude restart

# 或完全退出后重新打开
```

</details>

---

## ✅ 步骤 3: 验证

### 测试 1: 运行烟雾测试

```bash
python smoke_test.py
```

应该看到：
```
✅ Directory structure created successfully.
✅ MEMORY.md template created.
```

### 测试 2: 在 AI 对话中测试

打开你的 IDE 或 Claude Code，开始对话：

```
你: 请调用 initialize_session 工具

AI: (应该返回类似以下内容)
# Session Initialized
**System Time**: 2026-02-05

## [User Profile & Implicit Knowledge]
---
type: implicit_knowledge
version: "1.0"
...
```

如果看到这个，恭喜！🎉 配置成功！

---

## 🚀 步骤 4: 开始使用

### 第一次对话

```
你: 你好，我是一名全栈工程师，喜欢使用 React 和 Python

AI: (会自动调用 initialize_session)
你好！我已经记住了你的信息。

(然后会调用 append_daily_log 保存你的偏好)
```

### 记录任务

```
你: 我今天完成了用户登录功能的开发

AI: 很好！我已经记录到今天的日志中了 ✅
```

### 查看记忆文件

```bash
# 查看目录结构
ls -R agent_memory/

# 查看今天的日志
cat agent_memory/memory/2026/02_february/week_06/2026-02-05.md
```

---

## 🔧 可选: 安装 Ripgrep

Ripgrep 用于全文搜索，强烈推荐安装：

**Windows:**
```powershell
choco install ripgrep
```

**macOS:**
```bash
brew install ripgrep
```

**Linux:**
```bash
sudo apt install ripgrep  # Ubuntu/Debian
sudo dnf install ripgrep  # Fedora
```

**验证安装:**
```bash
rg --version
```

---

## 📚 下一步

现在你已经成功配置了 MCP 服务器！接下来可以：

1. 📖 阅读 [使用指南](./使用指南.md) 了解所有功能
2. 🏗️ 阅读 [架构设计](./架构设计.md) 理解实现原理
3. 💡 查看 [README](../README.md) 了解更多示例

---

## ❓ 遇到问题？

### 问题 1: 工具调用失败

**症状**: AI 说"无法调用工具"

**解决方案**:
1. 检查配置文件路径是否正确
2. 确认使用了绝对路径 (Claude Code)
3. 重启 IDE 或 Claude Code (运行 `claude restart`)
4. 查看终端是否有错误信息

### 问题 2: Python 找不到

**症状**: "python: command not found"

**解决方案**:
```bash
# 检查 Python 是否安装
python --version

# 如果使用 python3
# 修改配置中的 "command": "python3"
```

### 问题 3: 权限错误

**症状**: "Permission denied"

**解决方案**:
```bash
# 确保目录有写权限
chmod -R 755 agent_memory  # Linux/macOS

# Windows: 右键 -> 属性 -> 安全 -> 编辑权限
```

### 更多帮助

- 查看 [故障排查](./使用指南.md#故障排查)
- 提交 [GitHub Issue](../../issues)

---

## 🎉 完成！

你现在拥有了一个功能完整的 AI 记忆系统！

**试试这些命令**:
```
"记住，我喜欢简洁的代码风格"
"我们上周讨论过什么？"
"帮我生成本周的工作总结"
```

**Happy Coding! 🚀**
